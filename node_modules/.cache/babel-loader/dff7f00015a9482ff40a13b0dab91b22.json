{"ast":null,"code":"var _jsxFileName = \"/Users/wangchuang/files/react_antd/antd-demo-ts/src/pages/testSetup/setup.tsx\";\nimport React, { Component } from 'react';\nimport './setup.less';\n\nfunction SetupItem(item) {\n  console.log(\"data----\", item);\n  const {\n    length,\n    idx\n  } = item;\n  const style = {\n    width: `${100 / (length - 1)}%`\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"setup-item\",\n    style: style,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 11,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"cricle\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 13,\n      columnNumber: 5\n    }\n  }), idx !== length - 1 ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"setup-line\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 15,\n      columnNumber: 28\n    }\n  }) : null);\n}\n\nexport default class Setup extends Component {\n  constructor(props) {\n    super(props);\n\n    this.processSetupData = list => {\n      const setupList = [...list];\n\n      if (setupList && setupList.length) {\n        const currentIndex = setupList.findIndex(item => item.current === 'Y');\n        console.log('----处理数据', setupList, currentIndex);\n        this.setState({\n          currentIndex\n        });\n      }\n    };\n\n    this.state = {\n      title: '测试进度',\n      currentIndex: null,\n      processCopy: [],\n      process: []\n    };\n  }\n\n  componentWillUpdate(nextProps) {\n    console.log('------', nextProps, this.props);\n\n    if (nextProps.progress !== this.props.progress) {\n      const {\n        progress\n      } = nextProps;\n      this.setState({\n        processCopy: process\n      });\n      this.processSetupData(progress);\n    }\n  }\n\n  render() {\n    const {\n      process\n    } = this.state;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"setup-wrap\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"arrow arrow-left\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"setup-bar\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 9\n      }\n    }, process && process.length ? process.map((item, idx) => {\n      return /*#__PURE__*/React.createElement(SetupItem, {\n        length: process.length,\n        idx: idx,\n        key: item,\n        data: item,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 20\n        }\n      });\n    }) : null), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"arrow arrow-right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 9\n      }\n    }));\n  }\n\n}","map":{"version":3,"sources":["/Users/wangchuang/files/react_antd/antd-demo-ts/src/pages/testSetup/setup.tsx"],"names":["React","Component","SetupItem","item","console","log","length","idx","style","width","Setup","constructor","props","processSetupData","list","setupList","currentIndex","findIndex","current","setState","state","title","processCopy","process","componentWillUpdate","nextProps","progress","render","map"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport './setup.less';\n\nfunction SetupItem(item: any) {\n  console.log(\"data----\", item);\n  const { length, idx } = item;\n  const style = {\n    width: `${100 / (length - 1)}%`\n  };\n  return (\n  <div className=\"setup-item\" style={style}>\n    {/* 对应每个点的圆圈，这里根据状态添加类名，样式在class样式中定义 */}\n    <div className=\"cricle\"></div>\n    {/* 进度条的线条，具体样自己调整，最后一部不显示已经控制 */}\n    { idx !== length - 1 ? <div className=\"setup-line\" /> : null}\n  </div>\n  )\n}\n\nexport default class Setup extends Component<any, any> {\n  constructor(props: any) {\n    super(props);\n    this.state = {\n      title: '测试进度',\n      currentIndex: null,\n      processCopy: [],\n      process: []\n    }\n  }\n\n  componentWillUpdate(nextProps: any) {\n    console.log('------', nextProps, this.props);\n    if (nextProps.progress !== this.props.progress) {\n      const { progress } = nextProps;\n      this.setState({ processCopy: process });\n      this.processSetupData(progress);\n    }\n  }\n\n  processSetupData = (list: any[]) => {\n    const setupList = [...list];\n    if (setupList && setupList.length) {\n      const currentIndex = setupList.findIndex((item: any) => item.current === 'Y');\n      console.log('----处理数据', setupList, currentIndex);\n      this.setState({ currentIndex });\n    }\n  }\n\n  render() {\n    const { process } = this.state;\n    return (\n      <div className='setup-wrap'>\n        <div className=\"arrow arrow-left\" />\n        <div className=\"setup-bar\">\n          { process && process.length ? process.map((item: any, idx: number) => {\n            return <SetupItem length={process.length} idx={idx} key={item} data={item} />\n          }) : null}\n        </div>\n        <div className=\"arrow arrow-right\" />\n      </div>\n    )\n  }\n}\n"]},"metadata":{},"sourceType":"module"}